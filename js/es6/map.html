<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Map</title>
</head>
<body>
  <article>
    <button>Fire ğŸ”¥</button>
    <button>Dancer ğŸ’ƒ</button>
    <button>Ice Cream ğŸ¦</button>
    <button>Hamburger ğŸ”</button>
    <button>Earth ğŸŒ</button>
  </article>
  <script>
    /*
    Map å¯¹è±¡ä¿å­˜é”®å€¼å¯¹ã€‚ä»»ä½•å€¼(å¯¹è±¡æˆ–è€…åŸå§‹å€¼) éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªé”®æˆ–ä¸€ä¸ªå€¼ã€‚
    å¦‚æœæŠŠ Set çœ‹ä½œæ˜¯ä¸€ä¸ª Array è¯ï¼Œé‚£ä¹ˆ Map å°±å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ª Object(è¿™é‡Œåªæ˜¯æ–¹ä¾¿ç†è§£ï¼Œå®é™…ä¸Šå¹¶ä¸èƒ½è¿™ä¹ˆè®¤ä¸º)ã€‚
    Object ä¼šæŠŠ key å¼ºåˆ¶è½¬æ¢æˆ string ç±»å‹ã€‚
    */
    const fruits = new Map([['apple', 'sour'], ['banana', 'yummy'], ['cherry', 'juicy']])
    console.log('Map.prototype.sizeæ–¹æ³•æŸ¥çœ‹å…ƒç´ ä¸ªæ•°:', fruits.size)
    console.log('Map.prototype.set()æ–¹æ³•æ·»åŠ å…ƒç´ :', fruits.set('durian', 'creamy'))
    console.log('Map.prototype.get()æ–¹æ³•è¿”å›é”®å¯¹åº”çš„å€¼:', fruits.get('durian'))
    console.log('Map.prototype.delete()æ–¹æ³•åˆ é™¤å…ƒç´ :', fruits.delete('durian'), 'åˆ é™¤å:', fruits)
    console.log('Map.prototype.has()æ–¹æ³•æŸ¥çœ‹å…ƒç´ æ˜¯å¦å­˜åœ¨:', fruits.has('durian'))
    // console.log('Map.prototype.clear()æ–¹æ³•æ¸…ç©º:', fruits.clear())
    // æ›´å¤šæ–¹æ³•å‚è€ƒï¼šhttps://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map

    // es6 ä¸º Map æä¾›äº†å†…å»ºçš„è¿­ä»£å™¨ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨for of(for of æœ¬è´¨ä¸Šå°±æ˜¯è°ƒç”¨äº†è¿­ä»£å™¨è¿›è¡Œéå†)è¿›è¡Œéå†ã€‚
    for (let fruit of fruits) {
      console.log(fruit)
    }

    // ä¹Ÿå¯ä»¥ä½¿ç”¨forEachè¿›è¡Œéå†ã€‚
    fruits.forEach((value, key, ownMap) => {
      console.log(value, key, ownMap)
    })


    /*
    Exampleï¼šè®¡ç®—æ¯ä¸ªbuttonçš„ç‚¹å‡»æ¬¡æ•°(Mapçš„ä¸»è¦åº”ç”¨åœºæ™¯æ˜¯ä¸ºäº†å­˜å‚¨æŸä¸ªå¯¹è±¡çš„ä¿¡æ¯,è€ŒObjectæ˜¯æŠŠä¿¡æ¯å­˜å‚¨åˆ°å¯¹è±¡)ã€‚
    */
    const buttons = document.querySelectorAll('button')
    const clickCounts = new Map()

    buttons.forEach(button => {
      clickCounts.set(button, 0)
      button.addEventListener('click', function() {
        let clickCount = clickCounts.get(this)
        clickCounts.set(this, ++clickCount)
        console.log(`${this.innerText}è¢«ç‚¹å‡»äº†${clickCount}æ¬¡ã€‚`)
      })
    })
  </script>
</body>
</html>